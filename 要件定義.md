# 目的・背景
私は塾講師であり、定期的に生徒に対して単語の小テストを課している。
そこで、中学生や高校生のための単語練習を行うための小テストを自動で生成してくれるアプリケーションが必要。  
今までは既存のWebサイトに小テストを生成してくれるサービスがあったが、著作権の問題で使用できなくなってしまった。  
そこで、こちらで単語帳からデータベースを作成し、それをもとに小テストを自動で生成してくれるアプリケーションの作成が
求められることとなった。
また、以前使用していたサイトでは、問題の作り方に不自由があった(一度に出題できる単語は50単語のみなど)が、
自分で小テスト生成機能を実装するためそのような制限なく自由な小テスト作成を可能にする。

# ターゲットユーザー
小テストを解くのは中高生だが、小テスト生成を行うのは塾の講師となるため、ユーザーは中高生を対象とする塾
で勤務する塾講師である。
生徒に対して単語の小テストを出す際に、ランダムなテストを特定の範囲で出題したプリントを作成する際に使用される。

# 機能要件
## ユーザーができること
特定の単語帳の中から指定された範囲の単語(単語には単語番号が割り振られており、その単語番号から範囲を指定する)の中から
ランダムまたは一定の規則で小テストを作成する。pdf形式で出力して、ユーザーはそれを印刷できる。  
## 管理者ができること
データベースの操作が可能。単語帳の追加や、データベースの内容を修正・削除することができる。  
データベースの追加は手動で行うか、後述するAPIを用いてOCRで自動的に追加する。  
## その他システム連携
OpenAIのAPIを用いて、単語帳の写真からOCRで単語番号・単語・訳を抽出してもらい、データベースに登録する。

# 非機能要件
## 対応プラットフォーム
塾のPCに直接アプリケーションをインストールすることができないため、Webアプリケーションとして開発してサーバーに置いて動作させる。  
## 開発環境
サーバーサイドは `Python` の `Django` を用いて開発する。Windowsのローカル環境で開発し、本番は `GCP` 上で運用する。

# 画面・UIに関する要件
必要な画面一覧
* ホーム(下記の画面に遷移できる)
* テスト生成画面
* 単語帳の内容確認画面(確認のみに留めるため、ログイン不要)
* 単語帳操作画面(管理者ログインが必要)
  * 単語自動追加画面(写真をアップして追加)
  * 既存データベース編集画面(手動の追加、削除、編集)
使用者は全員日本人であるため、日本語で表示されることは必須。  
特別な装飾は不要なのでシンプルかつわかりやすいUIを心がける。  

# データ要件
出力するテストはPDFであることとする。  
データベースを作成する際に、ユーザーはOCR元ととなる画像を本アプリケーションにアップロードする必要がある。画像はjpegやpngなどのよく扱われる一般的な画像フォーマットとする。  
データの保存は `Django` が扱う `SQlite` データベースとし、単語はモデルを定義して保存する。  
単語は「単語番号」「単語」「訳」の３つの要素から構成される。  

# 外部連携・技術要件
OpenAIのAPIを利用し、画像データを渡してOCRしてもらい必要なデータを抽出してjson形式で受けとり、Modelに保存する。  
`Django` を用いて開発する。また、PDFとして出力する際には `weasyprint` ライブラリを利用し、 `Django` と `HTML` 及び `CSS` で作成したものをPDFとして出力する。

# スケジュール・予算
明日から開発を始め、8/18までの完成を目指す。  
予算について、個人開発となり、塾からはお金が出ないため、可能な限り抑えたい。一応、教室長から個人的に援助してもらえることになっているが、あまり大きな金額は出せない。OpenAIのAPI利用のみ金額がかかるようにしたいと考えている。