
{% extends "base.html" %}

{% block title %}
単語編集画面
{% endblock %}

{% block loadcss %}
{% load static %}
<link rel="stylesheet" href="{% static 'vocab/css/editstyle.css' %}">
<script src="https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.min.js" defer></script>
{% endblock %}


{% block content %}
<div class="d-flex flex-column flex-grow-1 h-100 w-75 mx-auto">
    <div id="wordlist_saerch" class="d-flex flex-row justify-content-evenly gap-5 mb-2">
        <select id="wordlist-selector" class="w-100" onchange="location.href='?target_word_list=' + this.value;" data-id="{{ target_word_list.id }}">
        </select>

        <div id="word-number-ranged" class="d-flex">
            <input id="start-range" type="number">
            <a> ～ </a>
            <input id="end-range" type="number">
        </div>

        <div class="input-group">
            <input id="search_box" type="text" class="form-control" placeholder="キーワード...">
            <button class="btn btn-outline-secondary" type="button" onclick="searchWord()">検索</button>
        </div>
    </div>

    {% include 'vocab/word-table.html' %}

    <div id="buttons" class="d-flex flex-row gap-2 flex-shrink-0 mb-2">
        <button type="button" class="btn btn-secondary text-center word-btn" data-bs-toggle="modal" data-bs-target="#create-wordlist-modal">
            単語帳新規作成
        </button>
        <button type="button" class="btn btn-secondary text-center word-btn me-auto" data-bs-toggle="modal" data-bs-target="#delete-wordlist-modal">
            単語帳を削除
        </button>
        <button class="btn btn-secondary text-center word-btn" onclick="location.href = this.dataset.url + '?wordlist=' + '{{ target_word_list.id }}'" data-url="{% url 'ocr:interface' %}">
            写真から追加
        </button>
        <button type="button" class="btn btn-secondary text-center word-btn" data-bs-toggle="modal" data-bs-target="#add-word-modal">
            単語手動追加
        </button>
        <button type="button" id="show-delete-modal-btn" class="btn btn-secondary text-center word-btn">
            単語を削除
        </button>
    </div>
</div>

<!-- モーダルを作成するテンプレートのインポート -->
{% include 'vocab/modals.html' %}

{% endblock %}


{% block loadjs %}
<script type="importmap">
{
  "imports": {
    "@shared/": "{% static 'shared/dist/' %}",
    "js-cookie": "https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.mjs",
    "@popperjs/core": "https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/esm/popper.min.js",
    "bootstrap": "https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.esm.min.js"
  }
}
</script>
<script id="app-urls" type="application/json">
{
    "vocab:editor": "{% url 'vocab:editor' %}",
    "vocab:register": "{% url 'vocab:register' %}",
    "vocab:delete": "{% url 'vocab:delete' %}",
    "vocab:update": "{% url 'vocab:update' %}",
    "wordbank:create": "{% url 'wordbank:create' %}",
    "wordbank:delete": "{% url 'wordbank:delete' %}",
    "wordbank:read": "{% url 'wordbank:read' %}",
    "wordbank:all_wordlist": "{% url 'wordbank:all_wordlist' %}"
}
</script>
<script type="module" src="{% static 'vocab/js/dist/edit.js' %}"></script>
<script type="module" src="{% static 'vocab/js/dist/event-listeners.js' %}"></script>

{% endblock %}