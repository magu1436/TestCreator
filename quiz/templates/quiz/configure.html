
{% extends "base.html" %}

{% block title %}
テスト作成画面
{% endblock %}

{% block loadcss %}
{% load static %}
<link href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css" rel="stylesheet">
<link href="{% static 'quiz/css/configurestyle.css' %}" rel="stylesheet">
{% endblock %}


{% block content %}
<div class="container-fluid d-flex flex-column h-100 w-75 align-items-center">
    
    <!-- ボタン群 -->
    <div id="buttons" class="d-flex flex-row my-2 w-100">
        <button type="button" id="preview-btn" class="btn btn-secondary flex-fill mx-1">プレビュー</button>
        <button type="button" id="create-btn" class="btn btn-secondary flex-fill mx-1">作成する</button>
        <button type="button" id="download-btn" class="btn btn-secondary flex-fill mx-1" disabled>作成してダウンロード</button>
    </div>

    <!-- 設定群 -->
    <div id="configure" class="d-flex flex-column align-items-center overflow-auto my-2 w-100">
        <select id="wordlist-selector" class="m-2" data-id="{{ wordlist.id }}"></select>

        <div id="number-range-configure" class="d-flex flex-column align-items-center m-2">
            <h5>出題範囲</h5>
            <div id="range-boxes" class="d-flex flex-column">
                <div class="range-box col mb-1">
                    <input type="number" class="range-box-left" min="0">
                    <span>～</span>
                    <input type="number" class="range-box-right" min="0">
                </div>
            </div>
            <button type="button" id="add-range-btn" class="btn btn-outline-secondary bi bi-plus-circle"></button>
        </div>

        <div id="num-questions" class="d-flex flex-column align-items-center w-100 my-2">
            <h5>問題数</h5>
            <input type="number" id="num-questions-input" min="0" max="400" value="50">
        </div>

        <div id="quiz-format" class="form-group m-2">
            <h5 class="control-label" style="text-align: center;">出題順</h5>
            <div class="radio-inline">
                <input class="form-check-input" type="radio" name="quiz-format-radio" id="qfr-tm" checked>
                <label class="form-check-label" for="qfr-tm">単語 → 意味</label>
            </div>
            <div class="radio-inline">
                <input class="form-check-input" type="radio" name="quiz-format-radio" id="qfr-mt">
                <label class="form-check-label" for="qfr-mt">意味 → 単語</label>
            </div>
        </div>

        <div id="question-sequence" class="form-group m-2">
            <h5 class="control-label" style="text-align: center;">出題形式</h5>
            <div class="radio-inline">
                <input class="form-check-input" type="radio" name="question-sequence-radio" id="random" checked>
                <label class="form-check-label" for="random">ランダム</label>
            </div>
            <div class="radio-inline">
                <input class="form-check-input" type="radio" name="question-sequence-radio" id="sequence">
                <label class="form-check-label" for="sequence">番号順</label>
            </div>
        </div>
    </div>
</div>

{% endblock %}


{% block loadjs %}
<script type="importmap">
{
  "imports": {
    "@shared/": "{% static 'shared/dist/' %}",
    "@vocab/": "{% static 'vocab/js/dist/' %}",
    "js-cookie": "https://cdn.jsdelivr.net/npm/js-cookie@3.0.5/dist/js.cookie.mjs"
  }
}
</script>
<script id="app-urls" type="application/json">
{
    "wordbank:read": "{% url 'wordbank:read' %}",
    "wordbank:all_wordlist": "{% url 'wordbank:all_wordlist' %}",
    "quiz:create": "{% url 'quiz:create' %}",
    "quiz:preview": "{% url 'quiz:preview' %}"
}
</script>
<script type="module" src="{% static 'quiz/js/dist/main.js' %}"></script>
{% endblock %}